Trabalho PrÃ¡tico 2 - RSSF

Objetivo: comunicaÃ§Ã£o entre sensores atraves de um server e vÃ¡rios clientes

INICIO:
- [x] Adaptar o cÃ³digo para funcionar com o novo protocolo
- [x] ConexÃ£o ao servidor: ./client 127.0.0.1 51511 -type <temperature|humidity|air_quality> -coords <x> <y>
- [x] Tratamento de erros da ConexÃ£o
    - [x] Faltando argumentos -> Error: Invalid number of arguments
    - [x] Argumento -type faltando -> Error: Expected '-typeâ€™ argument
    - [x] Tipo de sensor nÃ£o definido -> Error: Invalid sensor type
    - [x] Argumento -coords faltando -> Error: Expected  '-coords' argument
    - [x] Coordenadas fora do intervalo -> Error: Coordinates must be in the range 0-9
    - [x] ApÃ³s cada mensagem de erro, deve-se exibir tambÃ©m a seguinte mensagem padrÃ£o na linha de baixo: 
            Usage: ./client <server_ip> <port> -type 
            <temperature|humidity|air_quality> -coords <x> <y>


1Â° MEDIÃ‡ÃƒO (aleatÃ³ria):
- [x] o sensor vai realizar sua mediÃ§Ã£o, um valor aleatÃ³rio dentro do intervalo
    - Temperatura (ÂºC) -> 20.0 - 40.0 -> 5 segundos
    - Humidade (%) -> 10.0 - 90.0 -> 7 segundos
    - Qualidade do ar (Î¼g/mÂ³) -> 15.0 - 30.0 -> 10 segundos


FUNCIONAMENTO (padrÃ£o publish/subscribe):
- [x] gerenciar os tÃ³picos -> enviar as mensagens para os sensores interessados
- [x] sensores enviam suas mediÃ§Ãµes periodicamente para o servidor
- [x] servidor encaminha as mensagens para os servidores interessados
- [x] sensores atualizam suas mediÃ§Ãµes com base na proximidade e na diferenÃ§a dos valores (3 mais proximos)
    - ğ‘›ğ‘œğ‘£ğ‘_ğ‘šğ‘’ğ‘‘ğ‘–Ã§Ã£ğ‘œ = ğ‘šğ‘’ğ‘‘ğ‘–Ã§Ã£ğ‘œ_ğ‘ğ‘¡ğ‘¢ğ‘ğ‘™ + 0.1 Ã— (1 / ğ‘‘ + 1) x (ğ‘šğ‘’ğ‘‘ğ‘–Ã§Ã£ğ‘œ_ğ‘Ÿğ‘’ğ‘šğ‘œğ‘¡ğ‘ âˆ’ ğ‘šğ‘’ğ‘‘ğ‘–Ã§Ã£ğ‘œ_ğ‘ğ‘¡ğ‘¢ğ‘ğ‘™ ) 
    - d = distancia euclidiana = raiz quadrada da soma das diferenÃ§as ao quadrado
    - se o resultado passar do limite 10x10 deve ser arrumado pro valor mais proximo (maior ou menor)
- [x] sensor deve manter a informaÃ§Ã£o de seus vizinhos, todos os vizinhos para caso um caia do sistema
    - identificar o proximo da fila
    - substituir na lista de vizinhos mais proximos

DESCOBERTA DINÃ‚MICA DE SENSORES:
- [x] quando um novo sensor entra na rede, ele pode comeÃ§ar recebendo mediÃ§Ãµes de sensores
      mesmo que nÃ£o sejam seus vizinhos mais proximos, devido a falta de conhecimento inicial do ambiente
    - [x] ajustar sua lista de vizinhos a cada nova mensagem, e prioriza as mediÃ§Ãµes mais proximas

EXIBIÃ‡ÃƒO DAS MENSAGENS:
- [x] servidor exibe as mensagens recebidas de forma padronizada:
    - log:
      <type> sensor in (<x>,<y>)
      measurement: <measurement>
      <\n>
- [x] cliente exibe todas as mensagens que chegam para ele, incluindo as suas prÃ³prias, e nÃ£o exibe ao enviar
    - log:
      <type> sensor in (<x>,<y>)
      measurement: <measurement>
      action: <status>
      <\n>
- [ ] obs: mediÃ§Ãµes da mesma coordenada do sensor nÃ£o sÃ£o consideradas como vizinho, e sÃ£o descartadas
- actions:
    - [x] same location
    - [x] correction of x
    - [ ] removed
    - [x] not  neighbor

ENCERRAMENTO DE UM SENSOR (ctrl + C pra finalizar o sensor):
- [x] servidor, exibe log padrÃ£o com medida negativa (-10000) e enviar para os sensores do mesmo tipo
- [x] cliente deve remover o sensor de sua base de dados
    - Devem exibir a action como removed


OBS:
- [x] servidor mantem o registro de todos os sensores conectados, incluindo coordenadas e tipo
- [ ] sensores mantem a lista de vizinhos mais proximos, e atualiza em caso de queda
- [ ] Apenas trÃªs tipos de sensores serÃ£o aceitos. Tipos diferentes resultam:
    - em um erro
    - impedimento da execuÃ§Ã£o co cliente
- [ ] Coordenadas sÃ£o expecificadas ao iniciar o cliente e deve estar no intervalo [0,9]
    - coordenadas invalidas (fora do intervalo ou nÃ£o numericas) gera erro no cliente e nÃ£o inicia
- [ ] Cada tipo de sensor possui um tÃ³pico exclusivo onde se publica e recebe mensagens
- [ ] Mensagens sÃ£o transmitidas apenas para tipos iguais
- [ ] MediÃ§Ãµes iniciais sÃ£o aleatÃ³rias, e atualizaÃ§Ãµes seguem a formula
- [ ] CorreÃ§Ã£o da mediÃ§Ã£o Ã© baseada nos 3 vizinhos mais proximos
- [ ] Se nÃ£o houver vizinhos a mediÃ§Ã£o sempre Ã© a mesma
- [ ] Novos sensores podem usar mediÃ§Ãµes de vizinhos mais distantes, atualizando seus vizinhos a medida que recebe novas mensagens
- [ ] Medidas devem ser exibidas com atÃ© 4 casas decimais
- [ ] Coordenadas do log devem estar no formato (x,y)
- [ ] Testes com atÃ© 12 sensores simultÃ¢neos
- [ ] Mensagens de erro especificas para parÃ¢metros invalidos, impedindo o cliente de iniciar
- [ ] Mais de um sensor podem ocupar o mesmo espaÃ§o de tipos iguais ou diferentes
- [ ] Medidas do mesmo local nÃ£o sÃ£o utilizadas para atualizaÃ§Ã£o da mediÃ§Ã£o, e nem sÃ£o consideradas vizinhas
- [ ] Deve funcionar para IPv4 e IPv6
    IPv4:
    - no terminal 1: ./server v4 51511 
    - no  terminal  2:  ./client  127.0.0.1  51511  -type  temperature  -coords 1 1
    - no  terminal  3:  ./client  127.0.0.1  51511  -type  air_quality  -coords 2 2
    IPv6: 
    - no terminal 1: ./server v6 51511 
    - no terminal 2: ./client ::1 51511 -type humidity -coords 5 6
    - no terminal 3: ./client ::1 51511 -type humidity -coords 6 5
- [ ] uma nova thread deve ser criada para cada cliente conectado